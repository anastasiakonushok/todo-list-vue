(function(){"use strict";var t={6634:function(t,e,o){var r=o(5130),l=(o(8992),o(4520),o(6768)),a=o(4232);const s={key:0},d={key:1,class:"empty-state"};function n(t,e,o,r,n,i){const c=(0,l.g2)("Header"),u=(0,l.g2)("TodoInput"),p=(0,l.g2)("TodoList"),h=(0,l.g2)("ProgressBar"),C=(0,l.g2)("Filters");return(0,l.uX)(),(0,l.CE)("div",{class:(0,a.C4)([i.themeClass,"container","box"])},[(0,l.bF)(c),(0,l.bF)(u),i.todos.length>0?((0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(p),(0,l.bF)(h),(0,l.bF)(C,{currentFilter:i.filter,onSetFilter:i.setFilter,onClearCompleted:i.clearCompleted},null,8,["currentFilter","onSetFilter","onClearCompleted"])])):((0,l.uX)(),(0,l.CE)("div",d,e[0]||(e[0]=[(0,l.Lk)("p",null,"Congrat, you have no more tasks to do",-1)])))],2)}var i=o.p+"img/Illustration.bb3f1822.svg";function c(t,e,o,r,a,s){return(0,l.uX)(),(0,l.CE)("header",null,[e[2]||(e[2]=(0,l.Lk)("img",{src:i,alt:""},null,-1)),e[3]||(e[3]=(0,l.Lk)("h1",null,"Today I need to",-1)),(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>s.toggleTheme&&s.toggleTheme(...t)),class:"change-button"},e[1]||(e[1]=[(0,l.Lk)("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,l.Lk)("path",{d:"M15 27.5C21.9036 27.5 27.5 21.9036 27.5 15C27.5 8.09644 21.9036 2.5 15 2.5C8.09644 2.5 2.5 8.09644 2.5 15C2.5 21.9036 8.09644 27.5 15 27.5ZM15 25.625V4.375C20.868 4.375 25.625 9.13197 25.625 15C25.625 20.868 20.868 25.625 15 25.625Z",fill:"currentColor"})],-1)]))])}var u={computed:{currentTheme(){return this.$store.state.theme}},methods:{toggleTheme(){const t="light"===this.currentTheme?"dark":"light";this.$store.commit("setTheme",t)}}},p=o(1241);const h=(0,p.A)(u,[["render",c],["__scopeId","data-v-95cb0344"]]);var C=h;const m={class:"todo-input wrapp"};function v(t,e,o,a,s,d){return(0,l.uX)(),(0,l.CE)("div",m,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.newTodoText=t),onKeyup:e[1]||(e[1]=(0,r.jR)(((...t)=>d.addTodo&&d.addTodo(...t)),["enter"])),placeholder:"Add new todo..."},null,544),[[r.Jo,s.newTodoText]]),s.newTodoText?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:e[2]||(e[2]=(...t)=>d.addTodo&&d.addTodo(...t)),class:"blue-button"},"Submit")):(0,l.Q3)("",!0)])}var f={data(){return{newTodoText:""}},methods:{addTodo(){if(this.newTodoText.trim()){const t={text:this.newTodoText,completed:!1};this.$store.dispatch("saveTodo",t),this.newTodoText=""}}}};const g=(0,p.A)(f,[["render",v],["__scopeId","data-v-4241b7a4"]]);var T=g;const k={class:"todolist wrapp"},w={key:0},b=["onDrop"],y={class:"task-list__info"},x=["onDragstart"],L=["checked","onChange"],$={class:"task-list__controls"},_=["onClick"],F=["onClick"],A={key:1,class:"empty-state"};function E(t,e,o,s,d,n){return(0,l.uX)(),(0,l.CE)("div",k,[n.filteredTodos.length>0?((0,l.uX)(),(0,l.CE)("ul",w,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.filteredTodos,((t,o)=>((0,l.uX)(),(0,l.CE)("li",{key:t.id,class:"task-list",onDragover:e[0]||(e[0]=(0,r.D$)((()=>{}),["prevent"])),onDrop:t=>n.onDrop(o)},[(0,l.Lk)("div",y,[(0,l.Lk)("div",{class:"drag-icon",draggable:"true",onDragstart:t=>n.onDragStart(o)},e[1]||(e[1]=[(0,l.Fv)('<svg width="10" height="13" viewBox="0 0 10 13" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-08a28485><circle cx="1.5" cy="1.5" r="1.5" fill="#202427" data-v-08a28485></circle><circle cx="8.5" cy="11.5" r="1.5" fill="#202427" data-v-08a28485></circle><circle cx="1.5" cy="11.5" r="1.5" fill="#202427" data-v-08a28485></circle><circle cx="8.5" cy="1.5" r="1.5" fill="#202427" data-v-08a28485></circle><circle cx="1.5" cy="6.5" r="1.5" fill="#202427" data-v-08a28485></circle><circle cx="8.5" cy="6.5" r="1.5" fill="#202427" data-v-08a28485></circle></svg>',1)]),40,x),(0,l.Lk)("input",{type:"checkbox",checked:t.completed,onChange:e=>n.toggleTodo(t.id)},null,40,L),(0,l.Lk)("span",{class:(0,a.C4)({completed:t.completed})},(0,a.v_)(t.text),3)]),(0,l.Lk)("div",$,[(0,l.Lk)("button",{onClick:e=>n.editTodo(t.id)},e[2]||(e[2]=[(0,l.Fv)('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-08a28485><g opacity="0.65" clip-path="url(#clip0_20_1415)" data-v-08a28485><path d="M10.7914 2.34073C10.7277 2.28043 10.6434 2.24683 10.5557 2.24683C10.468 2.24683 10.3837 2.28043 10.32 2.34073L2.71136 9.9494C2.64887 10.0119 2.61377 10.0967 2.61377 10.1851C2.61377 10.2735 2.64887 10.3582 2.71136 10.4207L5.5647 13.2741C5.62721 13.3366 5.71198 13.3717 5.80036 13.3717C5.88875 13.3717 5.97352 13.3366 6.03603 13.2741L13.6447 5.66673C13.7072 5.60422 13.7423 5.51945 13.7423 5.43107C13.7423 5.34268 13.7072 5.25791 13.6447 5.1954L10.7914 2.34073Z" fill="#202427" data-v-08a28485></path><path d="M2.00011 11.1399C1.95973 11.0998 1.90973 11.0706 1.85489 11.0553C1.80005 11.04 1.7422 11.0389 1.68684 11.0523C1.63149 11.0657 1.58049 11.093 1.5387 11.1317C1.4969 11.1703 1.46572 11.2191 1.44811 11.2732L0.0214434 15.5532C0.00175745 15.6119 -0.00118532 15.675 0.012945 15.7353C0.0270753 15.7956 0.05772 15.8507 0.101443 15.8946C0.145555 15.9379 0.200684 15.9683 0.260854 15.9825C0.321024 15.9967 0.383939 15.9942 0.442777 15.9752L4.72278 14.5492C4.77706 14.5317 4.82592 14.5005 4.8647 14.4586C4.90348 14.4168 4.93087 14.3657 4.94425 14.3102C4.95763 14.2548 4.95655 14.1968 4.94112 14.1419C4.92568 14.087 4.89642 14.0369 4.85611 13.9966L2.00011 11.1399Z" fill="#202427" data-v-08a28485></path><path d="M15.3119 0.678113C14.8639 0.250679 14.2684 0.012207 13.6492 0.012207C13.03 0.012207 12.4346 0.250679 11.9866 0.678113L11.5119 1.15345C11.4494 1.21596 11.4143 1.30072 11.4143 1.38911C11.4143 1.4775 11.4494 1.56227 11.5119 1.62478L14.3646 4.47811C14.4271 4.5406 14.5118 4.57571 14.6002 4.57571C14.6886 4.57571 14.7734 4.5406 14.8359 4.47811L15.3119 4.00011C15.7514 3.55903 15.9981 2.96176 15.9981 2.33911C15.9981 1.71647 15.7514 1.1192 15.3119 0.678113Z" fill="#202427" data-v-08a28485></path></g><defs data-v-08a28485><clipPath id="clip0_20_1415" data-v-08a28485><rect width="16" height="16" fill="white" data-v-08a28485></rect></clipPath></defs></svg>',1)]),8,_),(0,l.Lk)("button",{onClick:e=>n.deleteTodo(t.id)},e[3]||(e[3]=[(0,l.Fv)('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-08a28485><g clip-path="url(#clip0_20_1419)" data-v-08a28485><path d="M13.0001 5H3.00008C2.91168 5 2.82689 5.03512 2.76438 5.09763C2.70187 5.16014 2.66675 5.24493 2.66675 5.33333V14.6667C2.66675 15.0203 2.80722 15.3594 3.05727 15.6095C3.30732 15.8595 3.64646 16 4.00008 16H12.0001C12.3537 16 12.6928 15.8595 12.9429 15.6095C13.1929 15.3594 13.3334 15.0203 13.3334 14.6667V5.33333C13.3334 5.24493 13.2983 5.16014 13.2358 5.09763C13.1733 5.03512 13.0885 5 13.0001 5ZM6.83341 13.6667C6.83341 13.7993 6.78074 13.9265 6.68697 14.0202C6.5932 14.114 6.46602 14.1667 6.33341 14.1667C6.20081 14.1667 6.07363 14.114 5.97986 14.0202C5.88609 13.9265 5.83341 13.7993 5.83341 13.6667V7.66667C5.83341 7.53406 5.88609 7.40688 5.97986 7.31311C6.07363 7.21935 6.20081 7.16667 6.33341 7.16667C6.46602 7.16667 6.5932 7.21935 6.68697 7.31311C6.78074 7.40688 6.83341 7.53406 6.83341 7.66667V13.6667ZM10.1667 13.6667C10.1667 13.7993 10.1141 13.9265 10.0203 14.0202C9.92653 14.114 9.79936 14.1667 9.66675 14.1667C9.53414 14.1667 9.40696 14.114 9.31319 14.0202C9.21943 13.9265 9.16675 13.7993 9.16675 13.6667V7.66667C9.16675 7.53406 9.21943 7.40688 9.31319 7.31311C9.40696 7.21935 9.53414 7.16667 9.66675 7.16667C9.79936 7.16667 9.92653 7.21935 10.0203 7.31311C10.1141 7.40688 10.1667 7.53406 10.1667 7.66667V13.6667Z" fill="#EC3535" data-v-08a28485></path><path d="M14.6667 2.66667H11.5001C11.4559 2.66667 11.4135 2.64911 11.3822 2.61785C11.351 2.5866 11.3334 2.5442 11.3334 2.5V1.66667C11.3334 1.22464 11.1578 0.800716 10.8453 0.488155C10.5327 0.175595 10.1088 0 9.66675 0L6.33341 0C5.89139 0 5.46746 0.175595 5.1549 0.488155C4.84234 0.800716 4.66675 1.22464 4.66675 1.66667V2.5C4.66675 2.5442 4.64919 2.5866 4.61793 2.61785C4.58668 2.64911 4.54428 2.66667 4.50008 2.66667H1.33341C1.1566 2.66667 0.987034 2.7369 0.86201 2.86193C0.736986 2.98695 0.666748 3.15652 0.666748 3.33333C0.666748 3.51014 0.736986 3.67971 0.86201 3.80474C0.987034 3.92976 1.1566 4 1.33341 4H14.6667C14.8436 4 15.0131 3.92976 15.1382 3.80474C15.2632 3.67971 15.3334 3.51014 15.3334 3.33333C15.3334 3.15652 15.2632 2.98695 15.1382 2.86193C15.0131 2.7369 14.8436 2.66667 14.6667 2.66667ZM6.00008 2.5V1.66667C6.00008 1.57826 6.0352 1.49348 6.09771 1.43096C6.16022 1.36845 6.24501 1.33333 6.33341 1.33333H9.66675C9.75515 1.33333 9.83994 1.36845 9.90245 1.43096C9.96496 1.49348 10.0001 1.57826 10.0001 1.66667V2.5C10.0001 2.5442 9.98252 2.5866 9.95127 2.61785C9.92001 2.64911 9.87762 2.66667 9.83341 2.66667H6.16675C6.12254 2.66667 6.08015 2.64911 6.0489 2.61785C6.01764 2.5866 6.00008 2.5442 6.00008 2.5Z" fill="#EC3535" data-v-08a28485></path></g><defs data-v-08a28485><clipPath id="clip0_20_1419" data-v-08a28485><rect width="16" height="16" fill="white" data-v-08a28485></rect></clipPath></defs></svg>',1)]),8,F)])],40,b)))),128))])):((0,l.uX)(),(0,l.CE)("div",A,e[4]||(e[4]=[(0,l.Lk)("p",null,"Congrat, you have no more tasks to do",-1)])))])}o(2577);var I={data(){return{draggedIndex:null}},computed:{filteredTodos(){return this.$store.getters.filteredTodos}},methods:{toggleTodo(t){const e=this.$store.state.todos.find((e=>e.id===t));e?this.$store.dispatch("toggleTodoStatus",e):console.error("Задача с таким ID не найдена:",t)},deleteTodo(t){this.$store.dispatch("deleteTodo",t)},editTodo(t){const e=this.$store.state.todos.find((e=>e.id===t));if(e){const o=prompt("Измените текст задачи:",e.text);null!==o&&""!==o.trim()&&this.$store.dispatch("editTodoText",{id:t,newText:o.trim()})}else console.error("Задача с таким ID не найдена:",t)},onDragStart(t){this.draggedIndex=t},onDrop(t){const e=this.reorderArray(this.$store.state.todos,this.draggedIndex,t);this.$store.commit("setTodos",e),this.draggedIndex=null},reorderArray(t,e,o){const r=[...t],[l]=r.splice(e,1);return r.splice(o,0,l),r}}};const M=(0,p.A)(I,[["render",E],["__scopeId","data-v-08a28485"]]);var O=M;const S={class:"progress wrapp"},X={class:"progress-box progress-box__completed"},D=["value","max"],P={class:"progress-box progress-box__finished"},V=["value","max"];function Z(t,e,o,r,s,d){return(0,l.uX)(),(0,l.CE)("div",S,[(0,l.Lk)("div",X,[(0,l.Lk)("span",null,(0,a.v_)(d.completedCount)+" task",1),e[0]||(e[0]=(0,l.Lk)("p",null,"Completed",-1)),(0,l.Lk)("progress",{class:"progress-bar completed",value:d.completedCount,max:d.totalCount},null,8,D)]),(0,l.Lk)("div",P,[(0,l.Lk)("span",null,(0,a.v_)(d.pendingCount)+" task",1),e[1]||(e[1]=(0,l.Lk)("p",null,"To be finished",-1)),(0,l.Lk)("progress",{class:"progress-bar finished",value:d.pendingCount,max:d.totalCount},null,8,V)])])}var j={computed:{completedCount(){return this.$store.state.todos.filter((t=>t.completed)).length},pendingCount(){return this.$store.state.todos.filter((t=>!t.completed)).length},totalCount(){return this.$store.state.todos.length}}};const H=(0,p.A)(j,[["render",Z],["__scopeId","data-v-0f632142"]]);var B=H;const K={class:"controls wrapp"};function q(t,e,o,r,s,d){return(0,l.uX)(),(0,l.CE)("div",K,[(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>d.checkAllTodos&&d.checkAllTodos(...t))},"Check all"),(0,l.Lk)("button",{onClick:e[1]||(e[1]=t=>d.setFilter("all")),class:(0,a.C4)({active:"all"===o.currentFilter})},"All",2),(0,l.Lk)("button",{onClick:e[2]||(e[2]=t=>d.setFilter("active")),class:(0,a.C4)({active:"active"===o.currentFilter})},"Active",2),(0,l.Lk)("button",{onClick:e[3]||(e[3]=t=>d.setFilter("completed")),class:(0,a.C4)({active:"completed"===o.currentFilter})},"Completed",2),(0,l.Lk)("button",{onClick:e[4]||(e[4]=(...t)=>d.clearCompletedTodos&&d.clearCompletedTodos(...t))},"Clear completed")])}var J={props:{currentFilter:{type:String,required:!0}},methods:{setFilter(t){this.$emit("setFilter",t)},clearCompletedTodos(){this.$store.dispatch("clearCompleted")},checkAllTodos(){this.$store.dispatch("checkAll")}}};const Q=(0,p.A)(J,[["render",q],["__scopeId","data-v-a9b9fb50"]]);var R=Q,U={components:{Header:C,TodoInput:T,TodoList:O,ProgressBar:B,Filters:R},computed:{todos(){return this.$store.state.todos},filter(){return this.$store.state.filter},themeClass(){return"dark"===this.$store.state.theme?"dark-theme":"light-theme"}},methods:{setFilter(t){this.$store.commit("setFilter",t)},clearCompleted(){this.$store.dispatch("clearCompleted")}},created(){this.$store.dispatch("fetchTodos")}};const z=(0,p.A)(U,[["render",n]]);var G=z,N=(o(4114),o(3949),o(1454),o(782)),W=o(4373);const Y="https://67861ee9f80b78923aa57d92.mockapi.io/api/v1/todos",tt=(0,N.y$)({state(){return{todos:[],filter:"all",theme:"light"}},mutations:{setTodos(t,e){t.todos=e},addTodo(t,e){t.todos.push(e)},updateTodo(t,e){const o=t.todos.findIndex((t=>t.id===e.id));-1!==o&&(t.todos[o]=e)},deleteTodo(t,e){t.todos=t.todos.filter((t=>t.id!==e))},deleteCompletedTodos(t){t.todos=t.todos.filter((t=>!t.completed))},markAllCompleted(t){t.todos.forEach((t=>{t.completed=!0}))},setFilter(t,e){t.filter=e},setTheme(t,e){t.theme=e}},actions:{async fetchTodos({commit:t}){try{const e=await W.A.get(Y);t("setTodos",e.data)}catch(e){console.error("Ошибка при загрузке задач:",e)}},async saveTodo({commit:t},e){try{const o=await W.A.post(Y,e);t("addTodo",o.data)}catch(o){console.error("Ошибка при сохранении задачи:",o)}},async toggleTodoStatus({commit:t},e){try{const o={...e,completed:!e.completed},r=await W.A.put(`${Y}/${e.id}`,o);t("updateTodo",r.data)}catch(o){console.error("Ошибка при обновлении статуса задачи:",o)}},async editTodoText({commit:t},{id:e,newText:o}){try{const r=await W.A.put(`${Y}/${e}`,{text:o});t("updateTodo",r.data)}catch(r){console.error("Ошибка при редактировании задачи:",r)}},async deleteTodo({commit:t},e){try{await W.A.delete(`${Y}/${e}`),t("deleteTodo",e)}catch(o){console.error("Ошибка при удалении задачи:",o)}},async clearCompleted({commit:t,state:e}){const o=e.todos.filter((t=>t.completed));try{await Promise.all(o.map((t=>W.A.delete(`${Y}/${t.id}`)))),t("deleteCompletedTodos")}catch(r){console.error("Ошибка при очистке выполненных задач:",r)}},async checkAll({commit:t,state:e}){try{await Promise.all(e.todos.map((t=>W.A.put(`${Y}/${t.id}`,{...t,completed:!0})))),t("markAllCompleted")}catch(o){console.error("Ошибка при отметке всех задач:",o)}}},getters:{filteredTodos(t){return"all"===t.filter?t.todos:"active"===t.filter?t.todos.filter((t=>!t.completed)):"completed"===t.filter?t.todos.filter((t=>t.completed)):void 0},completedCount(t){return t.todos.filter((t=>t.completed)).length},activeCount(t){return t.todos.filter((t=>!t.completed)).length}}});(0,r.Ef)(G).use(tt).mount("#app")}},e={};function o(r){var l=e[r];if(void 0!==l)return l.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,r,l,a){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],l=t[c][1],a=t[c][2];for(var d=!0,n=0;n<r.length;n++)(!1&a||s>=a)&&Object.keys(o.O).every((function(t){return o.O[t](r[n])}))?r.splice(n--,1):(d=!1,a<s&&(s=a));if(d){t.splice(c--,1);var i=l();void 0!==i&&(e=i)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,l,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/todo-list-vue/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var l,a,s=r[0],d=r[1],n=r[2],i=0;if(s.some((function(e){return 0!==t[e]}))){for(l in d)o.o(d,l)&&(o.m[l]=d[l]);if(n)var c=n(o)}for(e&&e(r);i<s.length;i++)a=s[i],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},r=self["webpackChunktodo_app"]=self["webpackChunktodo_app"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(6634)}));r=o.O(r)})();
//# sourceMappingURL=app.1d83f3a4.js.map